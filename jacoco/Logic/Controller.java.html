<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JavaCTIP</a> &gt; <a href="index.source.html" class="el_package">Logic</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">package Logic;

import GUI.*;

import java.util.ArrayList;
import java.util.Stack;
import javax.swing.*;

import static Logic.DVM.*;
import static Logic.Message_Queue.*;

/**
 *
 */

public class Controller {

  private JFrame k;
  public static ArrayList&lt;Title&gt; Title_List;
  private Payment Payment;
  private int basket;
  public static Stack&lt;DVM&gt; DVMStack;
  private int del;
  public static C_NumberManager CM;

<span class="fc" id="L26">  public Controller() {</span>
<span class="fc" id="L27">    this.basket = -666;</span>
<span class="fc" id="L28">    this.Payment = null;</span>
<span class="fc" id="L29">    DVMStack = new Stack&lt;&gt;();</span>
<span class="fc" id="L30">    CM = new C_NumberManager();</span>
<span class="fc" id="L31">    Title_List = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L32">    Title_List.add(new Title(&quot;코카콜라&quot;, 700));</span>
<span class="fc" id="L33">    Title_List.add(new Title(&quot;나랑드사이다&quot;, 700));</span>
<span class="fc" id="L34">    Title_List.add(new Title(&quot;솔의눈&quot;, 700));</span>
<span class="fc" id="L35">    Title_List.add(new Title(&quot;게토레이&quot;, 700));</span>
<span class="fc" id="L36">    Title_List.add(new Title(&quot;스프라이트&quot;, 700));</span>
<span class="fc" id="L37">    Title_List.add(new Title(&quot;포카리 스웨트&quot;, 700));</span>
<span class="fc" id="L38">    Title_List.add(new Title(&quot;닥터페퍼&quot;, 700));</span>
<span class="fc" id="L39">    Title_List.add(new Title(&quot;맥콜&quot;, 700));</span>
<span class="fc" id="L40">    Title_List.add(new Title(&quot;제티&quot;, 700));</span>
<span class="fc" id="L41">    Title_List.add(new Title(&quot;제주삼다수&quot;, 700));</span>
<span class="fc" id="L42">    Title_List.add(new Title(&quot;데자와&quot;, 700));</span>
<span class="fc" id="L43">    Title_List.add(new Title(&quot;아침햇살&quot;, 700));</span>
<span class="fc" id="L44">    Title_List.add(new Title(&quot;밀키스&quot;, 700));</span>
<span class="fc" id="L45">    Title_List.add(new Title(&quot;레쓰비&quot;, 700));</span>
<span class="fc" id="L46">    Title_List.add(new Title(&quot;조지아&quot;, 700));</span>
<span class="fc" id="L47">    Title_List.add(new Title(&quot;칠성사이다&quot;, 700));</span>
<span class="fc" id="L48">    Title_List.add(new Title(&quot;티오피&quot;, 700));</span>
<span class="fc" id="L49">    Title_List.add(new Title(&quot;몬스터&quot;, 700));</span>
<span class="fc" id="L50">    Title_List.add(new Title(&quot;핫식스&quot;, 700));</span>
<span class="fc" id="L51">    Title_List.add(new Title(&quot;레드불&quot;, 700));</span>
<span class="fc" id="L52">  }</span>

  public static void main(String[] args) {
    //선언

<span class="nc" id="L57">    Controller c = new Controller();</span>
<span class="nc" id="L58">    c.setK(new JFrame());</span>
<span class="nc" id="L59">    Message_Queue mq = new Message_Queue();</span>
    //start
<span class="nc" id="L61">    mq.start();</span>
<span class="nc" id="L62">    c.ReqMainMenu();</span>

<span class="nc" id="L64">  }</span>

  public void ReqMainMenu() {
    while (true) {
<span class="nc" id="L68">      del = -1;</span>
<span class="nc" id="L69">      k.setVisible(false);</span>
<span class="nc" id="L70">      k = new Sleep();</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">      while (del == -1) {</span>
<span class="nc" id="L72">        System.out.print(&quot;&quot;);</span>
<span class="nc" id="L73">        del = ((Sleep) k).return_value;</span>
      }
<span class="nc" id="L75">      ShowMainMenu();</span>
    }
  }

  public void ShowMainMenu() {
    while (true) {
<span class="nc" id="L81">      k.setVisible(false);</span>
<span class="nc" id="L82">      k = new MainMenu(Title_List);</span>
<span class="nc" id="L83">      del = InputSelect();</span>
<span class="nc bnc" id="L84" title="All 2 branches missed.">      if (del == -2) {</span>
<span class="nc" id="L85">        break;</span>
      }
    }
<span class="nc" id="L88">  }</span>

  public int InputSelect() {
<span class="nc" id="L91">    del = -1;</span>
<span class="nc bnc" id="L92" title="All 2 branches missed.">    while (del == -1) {</span>
<span class="nc" id="L93">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L94">      del = ((MainMenu) k).return_value;</span>
    }
<span class="nc bnc" id="L96" title="All 2 branches missed.">    if (del == -2) {</span>
<span class="nc" id="L97">      return -2;</span>
<span class="nc bnc" id="L98" title="All 2 branches missed.">    } else if (del == 0) {</span>
<span class="nc" id="L99">      ShowInputLine();</span>
<span class="nc bnc" id="L100" title="All 2 branches missed.">      if (del == -2) {</span>
<span class="nc" id="L101">        return -2;</span>
      }
<span class="nc" id="L103">      return 0;</span>
<span class="nc bnc" id="L104" title="All 2 branches missed.">    } else if (del &gt; 0) {</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">      if (del &lt;= Title_List.size()) {</span>
<span class="nc" id="L106">        basket = del;</span>
      } else {
        //error
<span class="nc" id="L109">        return -1;</span>
      }
<span class="nc bnc" id="L111" title="All 2 branches missed.">      if (Title_List.get(basket - 1).CheckStock()) {</span>
<span class="nc" id="L112">        PrintSelectPay(0);</span>
      } else {
<span class="nc" id="L114">        InfoNoItem();</span>
      }
<span class="nc bnc" id="L116" title="All 2 branches missed.">      if (del == -2) {</span>
<span class="nc" id="L117">        return -2;</span>
      }
<span class="nc" id="L119">      return 0;</span>
    } else {
      //	error
<span class="nc" id="L122">      return -1;</span>
    }
  }

  public void ShowInputLine() {
    while (true) {
<span class="nc" id="L128">      k.setVisible(false);</span>
<span class="nc" id="L129">      k = new InputLine();</span>
<span class="nc" id="L130">      del = InputCnumber();</span>
<span class="nc bnc" id="L131" title="All 4 branches missed.">      if (del == 0 || del == -2) {</span>
<span class="nc" id="L132">        break;</span>
      }
    }
<span class="nc" id="L135">  }</span>

  public int InputCnumber() {
<span class="nc" id="L138">    del = -1;</span>
<span class="nc bnc" id="L139" title="All 2 branches missed.">    while (del == -1) {</span>
<span class="nc" id="L140">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L141">      del = ((InputLine) k).return_value;</span>
    }
<span class="nc bnc" id="L143" title="All 2 branches missed.">    if (del == -2) {</span>
<span class="nc" id="L144">      return -2;</span>
<span class="nc bnc" id="L145" title="All 2 branches missed.">    } else if (del == 0) {</span>
<span class="nc" id="L146">      return 0;</span>
<span class="nc bnc" id="L147" title="All 2 branches missed.">    } else if (del &gt; 0) {</span>
<span class="nc" id="L148">      int check = CM.CheckCnumber(del);</span>
<span class="nc bnc" id="L149" title="All 2 branches missed.">      if (check == -1) {</span>
<span class="nc" id="L150">        InfoCnumberError();</span>
<span class="nc" id="L151">        return 1;</span>
<span class="nc bnc" id="L152" title="All 2 branches missed.">      } else if (check == 1) {</span>
<span class="nc" id="L153">        int t = CM.PopCnumber(del);</span>
<span class="nc" id="L154">        ReturnItem(Title_List.get(t - 1), true);</span>
<span class="nc" id="L155">        return 0;</span>
<span class="nc bnc" id="L156" title="All 2 branches missed.">      } else if (check == 0) {</span>
<span class="nc" id="L157">        ManShowTitle();</span>
<span class="nc bnc" id="L158" title="All 2 branches missed.">        if (del == -2) {</span>
<span class="nc" id="L159">          return -2;</span>
        }
<span class="nc" id="L161">        return 0;</span>
      } else {
        //error
<span class="nc" id="L164">        return -1;</span>
      }
    } else {
      //error
<span class="nc" id="L168">      return -1;</span>
    }
  }

  public void InfoCnumberError() {
<span class="nc" id="L173">    int del2 = -1;</span>
<span class="nc" id="L174">    k.setVisible(false);</span>
<span class="nc" id="L175">    k = new InfoCnumberErrUI();</span>
<span class="nc bnc" id="L176" title="All 2 branches missed.">    while (del2 == -1) {</span>
<span class="nc" id="L177">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L178">      del2 = ((InfoCnumberErrUI) k).return_value;</span>
    }
<span class="nc" id="L180">  }</span>

  public void ManShowTitle() {
    while (true) {
<span class="nc" id="L184">      k.setVisible(false);</span>
<span class="nc" id="L185">      k = new ManTitleMenu(Title_List);</span>
<span class="nc" id="L186">      del = ManSelectTitle();</span>
<span class="nc bnc" id="L187" title="All 4 branches missed.">      if (del == 0 || del == -2) {</span>
<span class="nc" id="L188">        break;</span>
      }
    }
<span class="nc" id="L191">  }</span>

  public int ManSelectTitle() {
<span class="nc" id="L194">    del = -1;</span>
<span class="nc bnc" id="L195" title="All 2 branches missed.">    while (del == -1) {</span>
<span class="nc" id="L196">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L197">      del = ((ManTitleMenu) k).return_value;</span>
    }
<span class="nc bnc" id="L199" title="All 2 branches missed.">    if (del == -2) {</span>
<span class="nc" id="L200">      return -2;</span>
<span class="nc bnc" id="L201" title="All 2 branches missed.">    } else if (del == 0) {</span>
<span class="nc" id="L202">      return 0;</span>
<span class="nc bnc" id="L203" title="All 2 branches missed.">    } else if (del &gt; 0) {</span>
<span class="nc" id="L204">      ManShowItem(del);</span>
<span class="nc bnc" id="L205" title="All 2 branches missed.">      if (del == -2) {</span>
<span class="nc" id="L206">        return -2;</span>
      }
<span class="nc" id="L208">      return 1;</span>
    } else {
      //error
<span class="nc" id="L211">      return -1;</span>
    }
  }

  public void ManShowItem(int TitleID) {
    while (true) {
<span class="nc" id="L217">      k.setVisible(false);</span>
<span class="nc" id="L218">      k = new ManItemMenu(Title_List.get(TitleID - 1));</span>
<span class="nc" id="L219">      del = ManEditItem(TitleID);</span>
<span class="nc bnc" id="L220" title="All 4 branches missed.">      if (del == 0 || del == -2) {</span>
<span class="nc" id="L221">        break;</span>
      }
    }
<span class="nc" id="L224">  }</span>

  public int ManEditItem(int TitleID) {
<span class="nc" id="L227">    del = -1;</span>
<span class="nc bnc" id="L228" title="All 2 branches missed.">    while (del == -1) {</span>
<span class="nc" id="L229">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L230">      del = ((ManItemMenu) k).return_value;</span>
    }
<span class="nc bnc" id="L232" title="All 2 branches missed.">    if (del == -2) {</span>
<span class="nc" id="L233">      return -2;</span>
<span class="nc bnc" id="L234" title="All 2 branches missed.">    } else if (del == 0) {</span>
<span class="nc" id="L235">      return 0;</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">    } else if (del == 1) { //AddItem</span>
<span class="nc" id="L237">      k.setVisible(false);</span>
<span class="nc" id="L238">      k = new AddItemMenu();</span>
      {
<span class="nc" id="L240">        int del2 = -1;</span>
<span class="nc bnc" id="L241" title="All 2 branches missed.">        while (del2 == -1) {</span>
<span class="nc" id="L242">          System.out.print(&quot;&quot;);</span>
<span class="nc" id="L243">          del2 = ((AddItemMenu) k).return_value;</span>
        }
<span class="nc bnc" id="L245" title="All 2 branches missed.">        if (del2 == -2) {</span>
<span class="nc" id="L246">          return -2;</span>
<span class="nc bnc" id="L247" title="All 2 branches missed.">        } else if (del2 == 0) {</span>
<span class="nc" id="L248">          return 1;</span>
<span class="nc bnc" id="L249" title="All 2 branches missed.">        } else if (del2 == 1) {</span>
<span class="nc" id="L250">          Title_List.get(TitleID - 1).AddItem(new Item(((AddItemMenu) k).return_date));</span>
<span class="nc" id="L251">          return 1;</span>
        } else {
          //error
<span class="nc" id="L254">          return -1;</span>
        }
      }
<span class="nc bnc" id="L257" title="All 2 branches missed.">    } else if (del == 2) {//delete item</span>
<span class="nc" id="L258">      Title_List.get(TitleID - 1).DeleteItem(((ManItemMenu) k).return_itemlist);</span>
<span class="nc" id="L259">      return 1;</span>
    } else {
      //error
<span class="nc" id="L262">      return -1;</span>
    }
  }

  public void PrintSelectPay(int DVMid) {
<span class="nc" id="L267">    k.setVisible(false);</span>
<span class="nc" id="L268">    k = new PaymentMenu(Title_List.get(basket - 1));</span>
<span class="nc" id="L269">    del = SelectPayment(DVMid);</span>
<span class="nc" id="L270">  }</span>

  public int SelectPayment(int DVMid) {
<span class="nc" id="L273">    del = -1;</span>
<span class="nc bnc" id="L274" title="All 2 branches missed.">    while (del == -1) {</span>
<span class="nc" id="L275">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L276">      del = ((PaymentMenu) k).return_value;</span>
    }
<span class="nc bnc" id="L278" title="All 2 branches missed.">    if (del == -2) {</span>
<span class="nc" id="L279">      return -2;</span>
<span class="nc bnc" id="L280" title="All 2 branches missed.">    } else if (del == 0) {</span>
<span class="nc" id="L281">      CancelItem();</span>
<span class="nc" id="L282">      return 0;</span>
<span class="nc bnc" id="L283" title="All 2 branches missed.">    } else if (del &gt; 0) {</span>
<span class="nc" id="L284">      Payment = new Payment(basket, DVMid);</span>
<span class="nc bnc" id="L285" title="All 2 branches missed.">      if (del == 1) {</span>
<span class="nc" id="L286">        ShowCardPay();</span>
<span class="nc" id="L287">        return 0;</span>
      }
<span class="nc bnc" id="L289" title="All 2 branches missed.">      if (del == 2) {</span>
<span class="nc" id="L290">        ShowSmartPay();</span>
<span class="nc" id="L291">        return 0;</span>
      } else {//error
<span class="nc" id="L293">        return -1;</span>
      }
    } else {
      //error
<span class="nc" id="L297">      return -1;</span>
    }
  }

  public void CancelItem() {
<span class="nc" id="L302">    ReturnMain();</span>
<span class="nc" id="L303">  }</span>

  public void ShowCardPay() {
<span class="nc" id="L306">    k.setVisible(false);</span>
<span class="nc" id="L307">    k = new CardPayUI();</span>
<span class="nc" id="L308">    del = CardPay();</span>
<span class="nc" id="L309">  }</span>

  public int CardPay() {
<span class="nc" id="L312">    del = -1;</span>
<span class="nc bnc" id="L313" title="All 2 branches missed.">    while (del == -1) {</span>
<span class="nc" id="L314">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L315">      del = ((CardPayUI) k).return_value;</span>
    }

<span class="nc bnc" id="L318" title="All 2 branches missed.">    if (del == -3) {//결제실패</span>
<span class="nc" id="L319">      int del2 = -1;</span>
<span class="nc" id="L320">      Payment.CardPay(false);</span>
<span class="nc" id="L321">      k.setVisible(false);</span>
<span class="nc" id="L322">      k = new PayErrUI(Payment.getError_log());</span>
<span class="nc bnc" id="L323" title="All 2 branches missed.">      while (del2 == -1) {</span>
<span class="nc" id="L324">        System.out.print(&quot;&quot;);</span>
<span class="nc" id="L325">        del2 = ((PayErrUI) k).return_value;</span>
      }
<span class="nc" id="L327">      Payment.init();</span>
<span class="nc" id="L328">      init();</span>
<span class="nc" id="L329">      return 0;</span>
<span class="nc bnc" id="L330" title="All 2 branches missed.">    } else if (del == 0) {//결제취소</span>
<span class="nc" id="L331">      CancelPay();</span>
<span class="nc" id="L332">      return 0;</span>
<span class="nc bnc" id="L333" title="All 2 branches missed.">    } else if (del == 1) {//결제성공</span>
<span class="nc" id="L334">      int p = Payment.CardPay(true);</span>
<span class="nc bnc" id="L335" title="All 2 branches missed.">      if (p == 0) {</span>
<span class="nc" id="L336">        ReturnItem(Title_List.get(basket - 1), false);</span>
      }
<span class="nc bnc" id="L338" title="All 2 branches missed.">      if (p &gt; 0) {</span>
<span class="nc" id="L339">        PrintCnumber(Title_List.get(basket - 1), Payment.getDVMid(), p);</span>
      }
<span class="nc" id="L341">      return 0;</span>
    } else {
      //error
<span class="nc" id="L344">      return -1;</span>
    }
  }

  public void ShowSmartPay() {
<span class="nc" id="L349">    k.setVisible(false);</span>
<span class="nc" id="L350">    k = new SmartPayUI();</span>
<span class="nc" id="L351">    del = SmartPay();</span>
<span class="nc" id="L352">  }</span>

  public int SmartPay() {
<span class="nc" id="L355">    del = -1;</span>
<span class="nc bnc" id="L356" title="All 2 branches missed.">    while (del == -1) {</span>
<span class="nc" id="L357">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L358">      del = ((SmartPayUI) k).return_value;</span>
    }

<span class="nc bnc" id="L361" title="All 2 branches missed.">    if (del == -3) {//결제실패</span>
<span class="nc" id="L362">      int del2 = -1;</span>
<span class="nc" id="L363">      Payment.SmartPay(false);</span>
<span class="nc" id="L364">      k.setVisible(false);</span>
<span class="nc" id="L365">      k = new PayErrUI(Payment.getError_log());</span>
<span class="nc bnc" id="L366" title="All 2 branches missed.">      while (del2 == -1) {</span>
<span class="nc" id="L367">        System.out.print(&quot;&quot;);</span>
<span class="nc" id="L368">        del2 = ((PayErrUI) k).return_value;</span>
      }
<span class="nc" id="L370">      Payment.init();</span>
<span class="nc" id="L371">      init();</span>

<span class="nc" id="L373">      return 0;</span>
<span class="nc bnc" id="L374" title="All 2 branches missed.">    } else if (del == 0) {//결제취소</span>
<span class="nc" id="L375">      CancelPay();</span>
<span class="nc" id="L376">      return 0;</span>
<span class="nc bnc" id="L377" title="All 2 branches missed.">    } else if (del == 1) {//결제성공</span>
<span class="nc" id="L378">      int p = Payment.SmartPay(true);</span>
<span class="nc bnc" id="L379" title="All 2 branches missed.">      if (p == 0) {</span>
<span class="nc" id="L380">        ReturnItem(Title_List.get(basket - 1), false);</span>
      }
<span class="nc bnc" id="L382" title="All 2 branches missed.">      if (p &gt; 0) {</span>
<span class="nc" id="L383">        PrintCnumber(Title_List.get(basket - 1), Payment.getDVMid(), p);</span>
      }
<span class="nc" id="L385">      return 0;</span>
    } else {
      //error
<span class="nc" id="L388">      return -1;</span>
    }
  }

  private void CancelPay() {
<span class="nc" id="L393">    Payment.init();</span>
<span class="nc" id="L394">    init();</span>
<span class="nc" id="L395">    ReturnMain();</span>
<span class="nc" id="L396">  }</span>

  public void ReturnItem(Title t, boolean IfHold) {
<span class="nc" id="L399">    int del2 = -1;</span>
<span class="nc" id="L400">    k.setVisible(false);</span>
<span class="nc" id="L401">    k = new InfoReturnItemUI(t.getName());</span>
<span class="nc bnc" id="L402" title="All 2 branches missed.">    while (del2 == -1) {</span>
<span class="nc" id="L403">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L404">      del2 = ((InfoReturnItemUI) k).return_value;</span>
    }
<span class="nc" id="L406">    t.UpdateStock(0, IfHold);</span>
<span class="nc bnc" id="L407" title="All 2 branches missed.">    if (!IfHold) {</span>
<span class="nc" id="L408">      Payment.init();</span>
    }
<span class="nc" id="L410">    init();</span>
<span class="nc" id="L411">    ReturnMain();</span>
<span class="nc" id="L412">  }</span>

  public void PrintCnumber(Title t, int DVMid, int Cnumber) {
<span class="nc" id="L415">    int del2 = -1;</span>
<span class="nc" id="L416">    k.setVisible(false);</span>
<span class="nc" id="L417">    k = new PrintCnumberUI(t, DVMid, Cnumber);</span>
<span class="nc bnc" id="L418" title="All 2 branches missed.">    while (del2 == -1) {</span>
<span class="nc" id="L419">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L420">      del2 = ((PrintCnumberUI) k).return_value;</span>
    }
<span class="nc" id="L422">    Payment.init();</span>
<span class="nc" id="L423">    init();</span>
<span class="nc" id="L424">  }</span>

  public void InfoNoItem() {
<span class="nc" id="L427">    k.setVisible(false);</span>
<span class="nc" id="L428">    k = new InfoNoItemUI(Title_List.get(basket - 1));</span>
<span class="nc" id="L429">    del = ReqFindDVM();</span>
<span class="nc" id="L430">  }</span>

  public int ReqFindDVM() {
<span class="nc" id="L433">    del = -1;</span>
<span class="nc bnc" id="L434" title="All 2 branches missed.">    while (del == -1) {</span>
<span class="nc" id="L435">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L436">      del = ((InfoNoItemUI) k).return_value;</span>
    }
<span class="nc bnc" id="L438" title="All 2 branches missed.">    if (del == -2) {</span>
<span class="nc" id="L439">      return -2;</span>
<span class="nc bnc" id="L440" title="All 2 branches missed.">    } else if (del == 0) {</span>
<span class="nc" id="L441">      init();</span>
<span class="nc" id="L442">      return 0;</span>
<span class="nc bnc" id="L443" title="All 2 branches missed.">    } else if (del == 1) {//finding DVM....</span>
<span class="nc" id="L444">      k.setVisible(false);</span>
<span class="nc" id="L445">      k = new FindingDVM(Title_List.get(basket - 1).getName());</span>
<span class="nc" id="L446">      int i = 1;</span>
      while (true) {
        int del2;
<span class="nc" id="L449">        System.out.print(&quot;&quot;);</span>
<span class="nc" id="L450">        int size = DVMStack.size();</span>
<span class="nc bnc" id="L451" title="All 2 branches missed.">        if (size &gt; 0) {</span>
<span class="nc bnc" id="L452" title="All 2 branches missed.">            if (DVMStack.get(size - 1).getID() == -1) {</span>
<span class="nc" id="L453">                break;</span>
            }
        }
<span class="nc" id="L456">        del2 = ((FindingDVM) k).return_value;</span>
<span class="nc bnc" id="L457" title="All 2 branches missed.">        if (del2 == 0) {//시간 초과or취소</span>
<span class="nc" id="L458">          stk = 9;</span>
<span class="nc" id="L459">          loc = -1;</span>
<span class="nc" id="L460">          init();</span>
<span class="nc" id="L461">          return 0;</span>
        }
<span class="nc bnc" id="L463" title="All 4 branches missed.">        if (i &lt;= 10 &amp;&amp; i != CurrentID) {</span>
<span class="nc" id="L464">          Message sm = new Message(CurrentID);</span>
<span class="nc" id="L465">          sm.setmsg(i, 1, basket);</span>
        }
<span class="nc" id="L467">        i++;</span>
<span class="nc" id="L468">      }</span>
<span class="nc bnc" id="L469" title="All 2 branches missed.">      if (DVMStack.size() == 1) {</span>
<span class="nc" id="L470">        InfoNoUsableDVM();</span>
<span class="nc" id="L471">        init();</span>
<span class="nc" id="L472">        return 0;</span>
      }
<span class="nc" id="L474">      DVMStack.pop();</span>
<span class="nc" id="L475">      ShowUsableDVM();</span>
<span class="nc bnc" id="L476" title="All 2 branches missed.">      if (del == -2) {</span>
<span class="nc" id="L477">        return -2;</span>
      }
<span class="nc" id="L479">      return 0;</span>
    } else {
      //error
<span class="nc" id="L482">      return -1;</span>
    }
  }

  public void ShowUsableDVM() {
<span class="nc" id="L487">    k.setVisible(false);</span>
<span class="nc" id="L488">    k = new DVMMenu(DVMStack);</span>
<span class="nc" id="L489">    del = SelectDVM();</span>
<span class="nc" id="L490">  }</span>

  public void InfoNoUsableDVM() {
<span class="nc" id="L493">    int del2 = -1;</span>
<span class="nc" id="L494">    k.setVisible(false);</span>
<span class="nc" id="L495">    k = new InfoNoDVMUI(Title_List.get(basket - 1).getName());</span>
<span class="nc bnc" id="L496" title="All 2 branches missed.">    while (del2 == -1) {</span>
<span class="nc" id="L497">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L498">      del2 = ((InfoNoDVMUI) k).return_value;</span>
    }
<span class="nc" id="L500">  }</span>

  public int SelectDVM() {
<span class="nc" id="L503">    del = -1;</span>
<span class="nc bnc" id="L504" title="All 2 branches missed.">    while (del == -1) {</span>
<span class="nc" id="L505">      System.out.print(&quot;&quot;);</span>
<span class="nc" id="L506">      del = ((DVMMenu) k).return_value;</span>
    }
<span class="nc bnc" id="L508" title="All 2 branches missed.">    if (del == -2) {</span>
<span class="nc" id="L509">      return -2;</span>
<span class="nc bnc" id="L510" title="All 2 branches missed.">    } else if (del == 0) {</span>
<span class="nc" id="L511">      ReturnMain();</span>
<span class="nc" id="L512">      return 0;</span>
<span class="nc bnc" id="L513" title="All 2 branches missed.">    } else if (del &gt; 0) {</span>
<span class="nc" id="L514">      PrintSelectPay(del);</span>
<span class="nc bnc" id="L515" title="All 2 branches missed.">      if (del == -2) {</span>
<span class="nc" id="L516">        return -2;</span>
      }
<span class="nc" id="L518">      return 0;</span>
    } else {
      //error
<span class="nc" id="L521">      return -1;</span>
    }
  }

  public void init() {
<span class="fc" id="L526">    basket = -666;</span>
<span class="fc" id="L527">    DVMStack.clear();</span>
<span class="fc" id="L528">    Payment = null;</span>
<span class="fc" id="L529">  }</span>

  public void ReturnMain() {
<span class="nc" id="L532">    init();</span>
<span class="nc" id="L533">  }</span>

  public JFrame getK() {
<span class="nc" id="L536">    return k;</span>
  }

  public void setK(JFrame k) {
<span class="nc" id="L540">    this.k = k;</span>
<span class="nc" id="L541">  }</span>

  public ArrayList&lt;Title&gt; getTitle_List() {
<span class="fc" id="L544">    return Title_List;</span>
  }

  public void setTitle_List(ArrayList&lt;Title&gt; title_List) {
<span class="nc" id="L548">    Title_List = title_List;</span>
<span class="nc" id="L549">  }</span>

  public Logic.Payment getPayment() {
<span class="fc" id="L552">    return Payment;</span>
  }

  public void setPayment(Logic.Payment payment) {
<span class="fc" id="L556">    Payment = payment;</span>
<span class="fc" id="L557">  }</span>

  public int getBasket() {
<span class="fc" id="L560">    return basket;</span>
  }

  public void setBasket(int basket) {
<span class="fc" id="L564">    this.basket = basket;</span>
<span class="fc" id="L565">  }</span>

  public Stack&lt;DVM&gt; getDVMStack() {
<span class="nc" id="L568">    return DVMStack;</span>
  }

  public void setDVMStack(Stack&lt;DVM&gt; dvmStack) {
<span class="nc" id="L572">    DVMStack = dvmStack;</span>
<span class="nc" id="L573">  }</span>

  public int getDel() {
<span class="nc" id="L576">    return del;</span>
  }

  public void setDel(int del) {
<span class="nc" id="L580">    this.del = del;</span>
<span class="nc" id="L581">  }</span>

  public C_NumberManager getCM() {
<span class="fc" id="L584">    return CM;</span>
  }

  public void setCM(C_NumberManager cm) {
<span class="nc" id="L588">    CM = cm;</span>
<span class="nc" id="L589">  }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>