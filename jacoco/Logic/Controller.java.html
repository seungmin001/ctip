<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JavaCTIP</a> &gt; <a href="index.source.html" class="el_package">Logic</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">package Logic;

import GUI.*;

import java.util.ArrayList;
import java.util.Stack;
import javax.swing.*;

import static Logic.DVM.*;
import static Logic.Message_Queue.*;

/**
 *
 */

public class Controller {

    private JFrame k;
    private Payment Payment;
    private int basket;
    private int del;
<span class="fc" id="L22">    public static ArrayList&lt;Title&gt; Title_List = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L23">    public static Stack&lt;DVM&gt; DVMStack = new Stack&lt;&gt;();;</span>
<span class="fc" id="L24">    public static C_NumberManager CM = new C_NumberManager();;</span>
<span class="fc" id="L25">    public static Message_Queue mq = new Message_Queue();;</span>

<span class="fc" id="L27">    public Controller() {</span>
<span class="fc" id="L28">        this.basket = -666;</span>
<span class="fc" id="L29">        this.Payment = null;</span>
<span class="fc" id="L30">        Title_List.add(new Title(&quot;코카콜라&quot;, 700));</span>
<span class="fc" id="L31">        Title_List.add(new Title(&quot;나랑드사이다&quot;, 700));</span>
<span class="fc" id="L32">        Title_List.add(new Title(&quot;솔의눈&quot;, 700));</span>
<span class="fc" id="L33">        Title_List.add(new Title(&quot;게토레이&quot;, 700));</span>
<span class="fc" id="L34">        Title_List.add(new Title(&quot;스프라이트&quot;, 700));</span>
<span class="fc" id="L35">        Title_List.add(new Title(&quot;포카리 스웨트&quot;, 700));</span>
<span class="fc" id="L36">        Title_List.add(new Title(&quot;닥터페퍼&quot;, 700));</span>
<span class="fc" id="L37">        Title_List.add(new Title(&quot;맥콜&quot;, 700));</span>
<span class="fc" id="L38">        Title_List.add(new Title(&quot;제티&quot;, 700));</span>
<span class="fc" id="L39">        Title_List.add(new Title(&quot;제주삼다수&quot;, 700));</span>
<span class="fc" id="L40">        Title_List.add(new Title(&quot;데자와&quot;, 700));</span>
<span class="fc" id="L41">        Title_List.add(new Title(&quot;아침햇살&quot;, 700));</span>
<span class="fc" id="L42">        Title_List.add(new Title(&quot;밀키스&quot;, 700));</span>
<span class="fc" id="L43">        Title_List.add(new Title(&quot;레쓰비&quot;, 700));</span>
<span class="fc" id="L44">        Title_List.add(new Title(&quot;조지아&quot;, 700));</span>
<span class="fc" id="L45">        Title_List.add(new Title(&quot;칠성사이다&quot;, 700));</span>
<span class="fc" id="L46">        Title_List.add(new Title(&quot;티오피&quot;, 700));</span>
<span class="fc" id="L47">        Title_List.add(new Title(&quot;몬스터&quot;, 700));</span>
<span class="fc" id="L48">        Title_List.add(new Title(&quot;핫식스&quot;, 700));</span>
<span class="fc" id="L49">        Title_List.add(new Title(&quot;레드불&quot;, 700));</span>
<span class="fc" id="L50">    }</span>

    public static void main(String[] args) {
        //선언
<span class="nc" id="L54">        Controller c = new Controller();</span>
<span class="nc" id="L55">        c.setK(new JFrame());</span>
        //start
<span class="nc" id="L57">        mq.start();</span>
<span class="nc" id="L58">        c.ReqMainMenu();</span>

<span class="nc" id="L60">    }</span>

    public void ReqMainMenu() {
        while (true) {
<span class="nc" id="L64">            del = -1;</span>
<span class="nc" id="L65">            k.setVisible(false);</span>
<span class="nc" id="L66">            k = new Sleep();</span>
<span class="nc bnc" id="L67" title="All 2 branches missed.">            while (del == -1) {</span>
<span class="nc" id="L68">                System.out.print(&quot;&quot;);</span>
<span class="nc" id="L69">                del = ((Sleep) k).return_value;</span>
            }
<span class="nc" id="L71">            ShowMainMenu();</span>
        }
    }

    public void ShowMainMenu() {
        while (true) {
<span class="nc" id="L77">            k.setVisible(false);</span>
<span class="nc" id="L78">            k = new MainMenu(Title_List);</span>
<span class="nc" id="L79">            del = InputSelect();</span>
<span class="nc bnc" id="L80" title="All 2 branches missed.">            if (del == -2) {</span>
<span class="nc" id="L81">                break;</span>
            }
        }
<span class="nc" id="L84">    }</span>

    public int InputSelect() {
<span class="nc" id="L87">        del = -1;</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">        while (del == -1) {</span>
<span class="nc" id="L89">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L90">            del = ((MainMenu) k).return_value;</span>
        }
<span class="nc bnc" id="L92" title="All 2 branches missed.">        if (del == -2) {</span>
<span class="nc" id="L93">            return -2;</span>
<span class="nc bnc" id="L94" title="All 2 branches missed.">        } else if (del == 0) {</span>
<span class="nc" id="L95">            ShowInputLine();</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">            if (del == -2) {</span>
<span class="nc" id="L97">                return -2;</span>
            }
<span class="nc" id="L99">            return 0;</span>
<span class="nc bnc" id="L100" title="All 2 branches missed.">        } else if (del &gt; 0) {</span>
<span class="nc bnc" id="L101" title="All 2 branches missed.">            if (del &lt;= Title_List.size()) {</span>
<span class="nc" id="L102">                basket = del;</span>
            } else {
                //error
<span class="nc" id="L105">                return -1;</span>
            }
<span class="nc bnc" id="L107" title="All 2 branches missed.">            if (Title_List.get(basket - 1).CheckStock()) {</span>
<span class="nc" id="L108">                PrintSelectPay(0);</span>
            } else {
<span class="nc" id="L110">                InfoNoItem();</span>
            }
<span class="nc bnc" id="L112" title="All 2 branches missed.">            if (del == -2) {</span>
<span class="nc" id="L113">                return -2;</span>
            }
<span class="nc" id="L115">            return 0;</span>
        } else {
            //	error
<span class="nc" id="L118">            return -1;</span>
        }
    }

    public void ShowInputLine() {
        while (true) {
<span class="nc" id="L124">            k.setVisible(false);</span>
<span class="nc" id="L125">            k = new InputLine();</span>
<span class="nc" id="L126">            del = InputCnumber();</span>
<span class="nc bnc" id="L127" title="All 4 branches missed.">            if (del == 0 || del == -2) {</span>
<span class="nc" id="L128">                break;</span>
            }
        }
<span class="nc" id="L131">    }</span>

    public int InputCnumber() {
<span class="nc" id="L134">        del = -1;</span>
<span class="nc bnc" id="L135" title="All 2 branches missed.">        while (del == -1) {</span>
<span class="nc" id="L136">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L137">            del = ((InputLine) k).return_value;</span>
        }
<span class="nc bnc" id="L139" title="All 2 branches missed.">        if (del == -2) {</span>
<span class="nc" id="L140">            return -2;</span>
<span class="nc bnc" id="L141" title="All 2 branches missed.">        } else if (del == 0) {</span>
<span class="nc" id="L142">            return 0;</span>
<span class="nc bnc" id="L143" title="All 2 branches missed.">        } else if (del &gt; 0) {</span>
<span class="nc" id="L144">            int check = CM.CheckCnumber(del);</span>
<span class="nc bnc" id="L145" title="All 2 branches missed.">            if (check == -1) {</span>
<span class="nc" id="L146">                InfoCnumberError();</span>
<span class="nc" id="L147">                return 1;</span>
<span class="nc bnc" id="L148" title="All 2 branches missed.">            } else if (check == 1) {</span>
<span class="nc" id="L149">                int t = CM.PopCnumber(del);</span>
<span class="nc" id="L150">                ReturnItem(Title_List.get(t - 1), true);</span>
<span class="nc" id="L151">                return 0;</span>
<span class="nc bnc" id="L152" title="All 2 branches missed.">            } else if (check == 0) {</span>
<span class="nc" id="L153">                ManShowTitle();</span>
<span class="nc bnc" id="L154" title="All 2 branches missed.">                if (del == -2) {</span>
<span class="nc" id="L155">                    return -2;</span>
                }
<span class="nc" id="L157">                return 0;</span>
            } else {
                //error
<span class="nc" id="L160">                return -1;</span>
            }
        } else {
            //error
<span class="nc" id="L164">            return -1;</span>
        }
    }

    public void InfoCnumberError() {
<span class="nc" id="L169">        int del2 = -1;</span>
<span class="nc" id="L170">        k.setVisible(false);</span>
<span class="nc" id="L171">        k = new InfoCnumberErrUI();</span>
<span class="nc bnc" id="L172" title="All 2 branches missed.">        while (del2 == -1) {</span>
<span class="nc" id="L173">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L174">            del2 = ((InfoCnumberErrUI) k).return_value;</span>
        }
<span class="nc" id="L176">    }</span>

    public void ManShowTitle() {
        while (true) {
<span class="nc" id="L180">            k.setVisible(false);</span>
<span class="nc" id="L181">            k = new ManTitleMenu(Title_List);</span>
<span class="nc" id="L182">            del = ManSelectTitle();</span>
<span class="nc bnc" id="L183" title="All 4 branches missed.">            if (del == 0 || del == -2) {</span>
<span class="nc" id="L184">                break;</span>
            }
        }
<span class="nc" id="L187">    }</span>

    public int ManSelectTitle() {
<span class="nc" id="L190">        del = -1;</span>
<span class="nc bnc" id="L191" title="All 2 branches missed.">        while (del == -1) {</span>
<span class="nc" id="L192">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L193">            del = ((ManTitleMenu) k).return_value;</span>
        }
<span class="nc bnc" id="L195" title="All 2 branches missed.">        if (del == -2) {</span>
<span class="nc" id="L196">            return -2;</span>
<span class="nc bnc" id="L197" title="All 2 branches missed.">        } else if (del == 0) {</span>
<span class="nc" id="L198">            return 0;</span>
<span class="nc bnc" id="L199" title="All 2 branches missed.">        } else if (del &gt; 0) {</span>
<span class="nc" id="L200">            ManShowItem(del);</span>
<span class="nc bnc" id="L201" title="All 2 branches missed.">            if (del == -2) {</span>
<span class="nc" id="L202">                return -2;</span>
            }
<span class="nc" id="L204">            return 1;</span>
        } else {
            //error
<span class="nc" id="L207">            return -1;</span>
        }
    }

    public void ManShowItem(int TitleID) {
        while (true) {
<span class="nc" id="L213">            k.setVisible(false);</span>
<span class="nc" id="L214">            k = new ManItemMenu(Title_List.get(TitleID - 1));</span>
<span class="nc" id="L215">            del = ManEditItem(TitleID);</span>
<span class="nc bnc" id="L216" title="All 4 branches missed.">            if (del == 0 || del == -2) {</span>
<span class="nc" id="L217">                break;</span>
            }
        }
<span class="nc" id="L220">    }</span>

    public int ManEditItem(int TitleID) {
<span class="nc" id="L223">        del = -1;</span>
<span class="nc bnc" id="L224" title="All 2 branches missed.">        while (del == -1) {</span>
<span class="nc" id="L225">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L226">            del = ((ManItemMenu) k).return_value;</span>
        }
<span class="nc bnc" id="L228" title="All 2 branches missed.">        if (del == -2) {</span>
<span class="nc" id="L229">            return -2;</span>
<span class="nc bnc" id="L230" title="All 2 branches missed.">        } else if (del == 0) {</span>
<span class="nc" id="L231">            return 0;</span>
<span class="nc bnc" id="L232" title="All 2 branches missed.">        } else if (del == 1) { //AddItem</span>
<span class="nc" id="L233">            k.setVisible(false);</span>
<span class="nc" id="L234">            k = new AddItemMenu();</span>
            {
<span class="nc" id="L236">                int del2 = -1;</span>
<span class="nc bnc" id="L237" title="All 2 branches missed.">                while (del2 == -1) {</span>
<span class="nc" id="L238">                    System.out.print(&quot;&quot;);</span>
<span class="nc" id="L239">                    del2 = ((AddItemMenu) k).return_value;</span>
                }
<span class="nc bnc" id="L241" title="All 2 branches missed.">                if (del2 == -2) {</span>
<span class="nc" id="L242">                    return -2;</span>
<span class="nc bnc" id="L243" title="All 2 branches missed.">                } else if (del2 == 0) {</span>
<span class="nc" id="L244">                    return 1;</span>
<span class="nc bnc" id="L245" title="All 2 branches missed.">                } else if (del2 == 1) {</span>
<span class="nc" id="L246">                    Title_List.get(TitleID - 1).AddItem(new Item(((AddItemMenu) k).return_date));</span>
<span class="nc" id="L247">                    return 1;</span>
                } else {
                    //error
<span class="nc" id="L250">                    return -1;</span>
                }
            }
<span class="nc bnc" id="L253" title="All 2 branches missed.">        } else if (del == 2) {//delete item</span>
<span class="nc" id="L254">            Title_List.get(TitleID - 1).DeleteItem(((ManItemMenu) k).return_itemlist);</span>
<span class="nc" id="L255">            return 1;</span>
        } else {
            //error
<span class="nc" id="L258">            return -1;</span>
        }
    }

    public void PrintSelectPay(int DVMid) {
<span class="nc" id="L263">        k.setVisible(false);</span>
<span class="nc" id="L264">        k = new PaymentMenu(Title_List.get(basket - 1));</span>
<span class="nc" id="L265">        del = SelectPayment(DVMid);</span>
<span class="nc" id="L266">    }</span>

    public int SelectPayment(int DVMid) {
<span class="nc" id="L269">        del = -1;</span>
<span class="nc bnc" id="L270" title="All 2 branches missed.">        while (del == -1) {</span>
<span class="nc" id="L271">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L272">            del = ((PaymentMenu) k).return_value;</span>
        }
<span class="nc bnc" id="L274" title="All 2 branches missed.">        if (del == -2) {</span>
<span class="nc" id="L275">            return -2;</span>
<span class="nc bnc" id="L276" title="All 2 branches missed.">        } else if (del == 0) {</span>
<span class="nc" id="L277">            CancelItem();</span>
<span class="nc" id="L278">            return 0;</span>
<span class="nc bnc" id="L279" title="All 2 branches missed.">        } else if (del &gt; 0) {</span>
<span class="nc" id="L280">            Payment = new Payment(basket, DVMid);</span>
<span class="nc bnc" id="L281" title="All 2 branches missed.">            if (del == 1) {</span>
<span class="nc" id="L282">                ShowCardPay();</span>
<span class="nc" id="L283">                return 0;</span>
            }
<span class="nc bnc" id="L285" title="All 2 branches missed.">            if (del == 2) {</span>
<span class="nc" id="L286">                ShowSmartPay();</span>
<span class="nc" id="L287">                return 0;</span>
            } else {//error
<span class="nc" id="L289">                return -1;</span>
            }
        } else {
            //error
<span class="nc" id="L293">            return -1;</span>
        }
    }

    public void CancelItem() {
<span class="nc" id="L298">        ReturnMain();</span>
<span class="nc" id="L299">    }</span>

    public void ShowCardPay() {
<span class="nc" id="L302">        k.setVisible(false);</span>
<span class="nc" id="L303">        k = new CardPayUI();</span>
<span class="nc" id="L304">        del = CardPay();</span>
<span class="nc" id="L305">    }</span>

    public int CardPay() {
<span class="nc" id="L308">        del = -1;</span>
<span class="nc bnc" id="L309" title="All 2 branches missed.">        while (del == -1) {</span>
<span class="nc" id="L310">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L311">            del = ((CardPayUI) k).return_value;</span>
        }

<span class="nc bnc" id="L314" title="All 2 branches missed.">        if (del == -3) {//결제실패</span>
<span class="nc" id="L315">            int del2 = -1;</span>
<span class="nc" id="L316">            Payment.CardPay(false);</span>
<span class="nc" id="L317">            k.setVisible(false);</span>
<span class="nc" id="L318">            k = new PayErrUI(Payment.getError_log());</span>
<span class="nc bnc" id="L319" title="All 2 branches missed.">            while (del2 == -1) {</span>
<span class="nc" id="L320">                System.out.print(&quot;&quot;);</span>
<span class="nc" id="L321">                del2 = ((PayErrUI) k).return_value;</span>
            }
<span class="nc" id="L323">            Payment.init();</span>
<span class="nc" id="L324">            init();</span>
<span class="nc" id="L325">            return 0;</span>
<span class="nc bnc" id="L326" title="All 2 branches missed.">        } else if (del == 0) {//결제취소</span>
<span class="nc" id="L327">            CancelPay();</span>
<span class="nc" id="L328">            return 0;</span>
<span class="nc bnc" id="L329" title="All 2 branches missed.">        } else if (del == 1) {//결제성공</span>
<span class="nc" id="L330">            int p = Payment.CardPay(true);</span>
<span class="nc bnc" id="L331" title="All 2 branches missed.">            if (p == 0) {</span>
<span class="nc" id="L332">                ReturnItem(Title_List.get(basket - 1), false);</span>
            }
<span class="nc bnc" id="L334" title="All 2 branches missed.">            if (p &gt; 0) {</span>
<span class="nc" id="L335">                PrintCnumber(Title_List.get(basket - 1), Payment.getDVMid(), p);</span>
            }
<span class="nc" id="L337">            return 0;</span>
        } else {
            //error
<span class="nc" id="L340">            return -1;</span>
        }
    }

    public void ShowSmartPay() {
<span class="nc" id="L345">        k.setVisible(false);</span>
<span class="nc" id="L346">        k = new SmartPayUI();</span>
<span class="nc" id="L347">        del = SmartPay();</span>
<span class="nc" id="L348">    }</span>

    public int SmartPay() {
<span class="nc" id="L351">        del = -1;</span>
<span class="nc bnc" id="L352" title="All 2 branches missed.">        while (del == -1) {</span>
<span class="nc" id="L353">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L354">            del = ((SmartPayUI) k).return_value;</span>
        }

<span class="nc bnc" id="L357" title="All 2 branches missed.">        if (del == -3) {//결제실패</span>
<span class="nc" id="L358">            int del2 = -1;</span>
<span class="nc" id="L359">            Payment.SmartPay(false);</span>
<span class="nc" id="L360">            k.setVisible(false);</span>
<span class="nc" id="L361">            k = new PayErrUI(Payment.getError_log());</span>
<span class="nc bnc" id="L362" title="All 2 branches missed.">            while (del2 == -1) {</span>
<span class="nc" id="L363">                System.out.print(&quot;&quot;);</span>
<span class="nc" id="L364">                del2 = ((PayErrUI) k).return_value;</span>
            }
<span class="nc" id="L366">            Payment.init();</span>
<span class="nc" id="L367">            init();</span>

<span class="nc" id="L369">            return 0;</span>
<span class="nc bnc" id="L370" title="All 2 branches missed.">        } else if (del == 0) {//결제취소</span>
<span class="nc" id="L371">            CancelPay();</span>
<span class="nc" id="L372">            return 0;</span>
<span class="nc bnc" id="L373" title="All 2 branches missed.">        } else if (del == 1) {//결제성공</span>
<span class="nc" id="L374">            int p = Payment.SmartPay(true);</span>
<span class="nc bnc" id="L375" title="All 2 branches missed.">            if (p == 0) {</span>
<span class="nc" id="L376">                ReturnItem(Title_List.get(basket - 1), false);</span>
            }
<span class="nc bnc" id="L378" title="All 2 branches missed.">            if (p &gt; 0) {</span>
<span class="nc" id="L379">                PrintCnumber(Title_List.get(basket - 1), Payment.getDVMid(), p);</span>
            }
<span class="nc" id="L381">            return 0;</span>
        } else {
            //error
<span class="nc" id="L384">            return -1;</span>
        }
    }

    private void CancelPay() {
<span class="nc" id="L389">        Payment.init();</span>
<span class="nc" id="L390">        init();</span>
<span class="nc" id="L391">        ReturnMain();</span>
<span class="nc" id="L392">    }</span>

    public void ReturnItem(Title t, boolean IfHold) {
<span class="nc" id="L395">        int del2 = -1;</span>
<span class="nc" id="L396">        k.setVisible(false);</span>
<span class="nc" id="L397">        k = new InfoReturnItemUI(t.getName());</span>
<span class="nc bnc" id="L398" title="All 2 branches missed.">        while (del2 == -1) {</span>
<span class="nc" id="L399">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L400">            del2 = ((InfoReturnItemUI) k).return_value;</span>
        }
<span class="nc" id="L402">        t.UpdateStock(0, IfHold);</span>
<span class="nc bnc" id="L403" title="All 2 branches missed.">        if (!IfHold) {</span>
<span class="nc" id="L404">            Payment.init();</span>
        }
<span class="nc" id="L406">        init();</span>
<span class="nc" id="L407">        ReturnMain();</span>
<span class="nc" id="L408">    }</span>

    public void PrintCnumber(Title t, int DVMid, int Cnumber) {
<span class="nc" id="L411">        int del2 = -1;</span>
<span class="nc" id="L412">        k.setVisible(false);</span>
<span class="nc" id="L413">        k = new PrintCnumberUI(t, DVMid, Cnumber);</span>
<span class="nc bnc" id="L414" title="All 2 branches missed.">        while (del2 == -1) {</span>
<span class="nc" id="L415">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L416">            del2 = ((PrintCnumberUI) k).return_value;</span>
        }
<span class="nc" id="L418">        Payment.init();</span>
<span class="nc" id="L419">        init();</span>
<span class="nc" id="L420">    }</span>

    public void InfoNoItem() {
<span class="nc" id="L423">        k.setVisible(false);</span>
<span class="nc" id="L424">        k = new InfoNoItemUI(Title_List.get(basket - 1));</span>
<span class="nc" id="L425">        del = ReqFindDVM();</span>
<span class="nc" id="L426">    }</span>

    public int ReqFindDVM() {
<span class="nc" id="L429">        del = -1;</span>
<span class="nc bnc" id="L430" title="All 2 branches missed.">        while (del == -1) {</span>
<span class="nc" id="L431">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L432">            del = ((InfoNoItemUI) k).return_value;</span>
        }
<span class="nc bnc" id="L434" title="All 2 branches missed.">        if (del == -2) {</span>
<span class="nc" id="L435">            return -2;</span>
<span class="nc bnc" id="L436" title="All 2 branches missed.">        } else if (del == 0) {</span>
<span class="nc" id="L437">            init();</span>
<span class="nc" id="L438">            return 0;</span>
<span class="nc bnc" id="L439" title="All 2 branches missed.">        } else if (del == 1) {//finding DVM....</span>
<span class="nc" id="L440">            k.setVisible(false);</span>
<span class="nc" id="L441">            k = new FindingDVM(Title_List.get(basket - 1).getName());</span>
<span class="nc" id="L442">            int i = 1;</span>
            while (true) {
                int del2;
<span class="nc" id="L445">                System.out.print(&quot;&quot;);</span>
<span class="nc" id="L446">                int size = DVMStack.size();</span>
<span class="nc bnc" id="L447" title="All 2 branches missed.">                if (size &gt; 0) {</span>
<span class="nc bnc" id="L448" title="All 2 branches missed.">                    if (DVMStack.get(size - 1).getID() == -1)</span>
<span class="nc" id="L449">                        break;</span>
                }
<span class="nc" id="L451">                del2 = ((FindingDVM) k).return_value;</span>
<span class="nc bnc" id="L452" title="All 2 branches missed.">                if (del2 == 0) {//시간 초과or취소</span>
<span class="nc" id="L453">                    Message_Queue.setStk(9);</span>
<span class="nc" id="L454">                    Message_Queue.setLoc(-1);</span>
<span class="nc" id="L455">                    init();</span>
<span class="nc" id="L456">                    return 0;</span>
                }
<span class="nc bnc" id="L458" title="All 4 branches missed.">                if (i &lt;= 10 &amp;&amp; i != CurrentID) {</span>
<span class="nc" id="L459">                    Message sm = new Message(CurrentID);</span>
<span class="nc" id="L460">                    sm.setmsg(i, 1, basket);</span>
                }
<span class="nc" id="L462">                i++;</span>
<span class="nc" id="L463">            }</span>
<span class="nc bnc" id="L464" title="All 2 branches missed.">            if (DVMStack.size() == 1) {</span>
<span class="nc" id="L465">                InfoNoUsableDVM();</span>
<span class="nc" id="L466">                init();</span>
<span class="nc" id="L467">                return 0;</span>
            }
<span class="nc" id="L469">            DVMStack.pop();</span>
<span class="nc" id="L470">            ShowUsableDVM();</span>
<span class="nc bnc" id="L471" title="All 2 branches missed.">            if (del == -2) {</span>
<span class="nc" id="L472">                return -2;</span>
            }
<span class="nc" id="L474">            return 0;</span>
        } else {
            //error
<span class="nc" id="L477">            return -1;</span>
        }
    }

    public void ShowUsableDVM() {
<span class="nc" id="L482">        k.setVisible(false);</span>
<span class="nc" id="L483">        k = new DVMMenu(DVMStack);</span>
<span class="nc" id="L484">        del = SelectDVM();</span>
<span class="nc" id="L485">    }</span>

    public void InfoNoUsableDVM() {
<span class="nc" id="L488">        int del2 = -1;</span>
<span class="nc" id="L489">        k.setVisible(false);</span>
<span class="nc" id="L490">        k = new InfoNoDVMUI(Title_List.get(basket - 1).getName());</span>
<span class="nc bnc" id="L491" title="All 2 branches missed.">        while (del2 == -1) {</span>
<span class="nc" id="L492">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L493">            del2 = ((InfoNoDVMUI) k).return_value;</span>
        }
<span class="nc" id="L495">    }</span>

    public int SelectDVM() {
<span class="nc" id="L498">        del = -1;</span>
<span class="nc bnc" id="L499" title="All 2 branches missed.">        while (del == -1) {</span>
<span class="nc" id="L500">            System.out.print(&quot;&quot;);</span>
<span class="nc" id="L501">            del = ((DVMMenu) k).return_value;</span>
        }
<span class="nc bnc" id="L503" title="All 2 branches missed.">        if (del == -2) {</span>
<span class="nc" id="L504">            return -2;</span>
<span class="nc bnc" id="L505" title="All 2 branches missed.">        } else if (del == 0) {</span>
<span class="nc" id="L506">            ReturnMain();</span>
<span class="nc" id="L507">            return 0;</span>
<span class="nc bnc" id="L508" title="All 2 branches missed.">        } else if (del &gt; 0) {</span>
<span class="nc" id="L509">            PrintSelectPay(del);</span>
<span class="nc bnc" id="L510" title="All 2 branches missed.">            if (del == -2) {</span>
<span class="nc" id="L511">                return -2;</span>
            }
<span class="nc" id="L513">            return 0;</span>
        } else {
            //error
<span class="nc" id="L516">            return -1;</span>
        }
    }

    public void init() {
<span class="fc" id="L521">        basket = -666;</span>
<span class="fc" id="L522">        DVMStack.clear();</span>
<span class="fc" id="L523">        Payment = null;</span>
<span class="fc" id="L524">    }</span>

    public void ReturnMain() {
<span class="nc" id="L527">        init();</span>
<span class="nc" id="L528">    }</span>

    public JFrame getK() {
<span class="nc" id="L531">        return k;</span>
    }

    public void setK(JFrame k) {
<span class="nc" id="L535">        this.k = k;</span>
<span class="nc" id="L536">    }</span>

    public static ArrayList&lt;Title&gt; getTitle_List() {
<span class="fc" id="L539">        return Title_List;</span>
    }

    public static void setTitle_List(ArrayList&lt;Title&gt; title_List) {
<span class="nc" id="L543">        Title_List = title_List;</span>
<span class="nc" id="L544">    }</span>

    public Logic.Payment getPayment() {
<span class="fc" id="L547">        return Payment;</span>
    }

    public void setPayment(Logic.Payment payment) {
<span class="fc" id="L551">        Payment = payment;</span>
<span class="fc" id="L552">    }</span>

    public int getBasket() {
<span class="fc" id="L555">        return basket;</span>
    }

    public void setBasket(int basket) {
<span class="fc" id="L559">        this.basket = basket;</span>
<span class="fc" id="L560">    }</span>

    public static Stack&lt;DVM&gt; getDVMStack() {
<span class="nc" id="L563">        return DVMStack;</span>
    }

    public static void setDVMStack(Stack&lt;DVM&gt; DVMStack) {
<span class="nc" id="L567">        Controller.DVMStack = DVMStack;</span>
<span class="nc" id="L568">    }</span>

    public int getDel() {
<span class="nc" id="L571">        return del;</span>
    }

    public void setDel(int del) {
<span class="nc" id="L575">        this.del = del;</span>
<span class="nc" id="L576">    }</span>

    public static C_NumberManager getCM() {
<span class="fc" id="L579">        return CM;</span>
    }

    public static void setCM(C_NumberManager CM) {
<span class="nc" id="L583">        Controller.CM = CM;</span>
<span class="nc" id="L584">    }</span>

    public static Message_Queue getMq() {
<span class="nc" id="L587">        return mq;</span>
    }

    public static void setMq(Message_Queue mq) {
<span class="nc" id="L591">        Controller.mq = mq;</span>
<span class="nc" id="L592">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>